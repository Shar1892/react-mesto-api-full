{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/success.svg","images/failure.svg","components/InfoTooltip.js","utils/mestoAuth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","onSignOut","path","useLocation","pathname","linkName","pathTo","className","src","logo","alt","to","onClick","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","id","type","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","item","i","Footer","Date","getFullYear","ImagePopup","onClose","evt","target","currentTarget","classList","contains","api","options","this","_url","url","_userUrl","_userAvatarUrl","_cardUrl","res","ok","json","Promise","reject","status","fetch","headers","Authorization","localStorage","getItem","then","_parseResponse","catch","err","data","method","body","JSON","stringify","PopupWithForm","isOpen","title","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","discription","setDiscription","useEffect","preventDefault","value","onChange","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputAvatar","useRef","e","current","ref","AddPlacePopup","setLink","placeholder","ProtectedRoute","Component","component","props","Login","onLogin","setEmail","password","setPassword","Register","onRegister","InfoTooltip","mеssage","successIcon","failureIcon","BASE_URL","App","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isSuccessfulRegistration","setIsSuccessfulRegistration","successfulmessage","setSuccessfulmessage","selectedCard","setSelectedCard","setLoggedIn","setCards","history","useHistory","getUser","userData","console","log","setEventListeners","document","addEventListener","handleEscClose","key","closeAllPopups","removeEventListener","getCards","checkToken","jwt","token","mode","statusText","push","Provider","removeItem","exact","changeLikeCardStatus","newCard","crd","removeCard","filter","setItem","mestoAuth","setUserData","createCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gNAAe,MAA0B,iC,cCgC1BA,EA7BA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,UAC5BC,EAAOC,cAAcC,SAErBC,EAAQ,UAAe,YAATH,EAAqB,qEAAgB,kCACnDI,EAAM,UAAe,YAATJ,EAAqB,UAAY,WAEnD,OACC,yBAAQK,UAAU,6BAAlB,UACC,qBAAKC,IAAKC,EAAMC,IAAI,mDAAgBH,UAAU,iBAC7CR,EACA,sBAAKQ,UAAU,oBAAf,UACC,oBAAIA,UAAU,gBAAd,SAA+BP,IAC/B,cAAC,IAAD,CACCW,GAAG,UACHJ,UAAU,qCACVK,QAASX,EAHV,+CASD,cAAC,IAAD,CAAMU,GAAIL,EAAQC,UAAU,oCAA5B,SACEF,QCvBOQ,EAAqBC,0BCmDnBC,EAlDF,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,YAAaC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aACxCC,EAAcC,qBAAWR,GAEzBS,EAAQN,EAAKO,QAAUH,EAAYI,IACnCC,EAAUT,EAAKU,MAAMC,MAAK,SAACC,GAAD,OAAQA,IAAOR,EAAYI,OAc3D,OACC,sBAAKjB,UAAU,UAAf,UACC,wBACCA,UAAS,0BACRe,EAAQ,GAAK,+BAEdO,KAAK,SACLjB,QAXuB,WACzBO,EAAaH,MAYZ,qBACCR,IAAKQ,EAAKc,KACVpB,IAAKM,EAAKe,KACVxB,UAAU,iBACVK,QAzBiB,WACnBK,EAAYD,MA0BX,sBAAKT,UAAU,qBAAf,UACC,oBAAIA,UAAU,gBAAd,SAA+BS,EAAKe,OACpC,sBAAKxB,UAAU,0BAAf,UACC,wBACCA,UAAS,wBAAmBkB,EAAU,uBAAyB,IAC/DI,KAAK,SACLjB,QA7BmB,WACvBM,EAAWF,MA8BR,mBAAGT,UAAU,wBAAb,SACES,EAAKU,MAAQV,EAAKU,MAAMM,OAAS,cCgBzBC,EAzDF,SAAC,GAQP,IAPNC,EAOK,EAPLA,aACAC,EAMK,EANLA,cACAC,EAKK,EALLA,WACAnB,EAIK,EAJLA,YACAoB,EAGK,EAHLA,MACAnB,EAEK,EAFLA,WACAC,EACK,EADLA,aAEMC,EAAcC,qBAAWR,GAE/B,OACC,uBAAMN,UAAU,UAAhB,UACC,0BAASA,UAAU,+BAAnB,UACC,sBAAKA,UAAU,4BAAf,UACC,qBACCC,IAAKY,EAAYkB,OACjB5B,IAAI,oGACJH,UAAU,oBAEX,qBAAKA,UAAU,4BAA4BK,QAASsB,EAApD,SACC,qBAAK3B,UAAU,yBAGjB,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,qBAAf,UACC,oBAAIA,UAAU,gBAAd,SAA+Ba,EAAYW,OAC3C,wBACCxB,UAAU,uBACVsB,KAAK,SACLjB,QAASuB,OAGX,mBAAG5B,UAAU,oBAAb,SAAkCa,EAAYmB,WAE/C,wBACChC,UAAU,sBACVsB,KAAK,SACLjB,QAASwB,OAIX,yBAAS7B,UAAU,iCAAnB,SACE8B,EAAMG,KAAI,SAACC,EAAMC,GAAP,OACV,cAAC,EAAD,CACC1B,KAAMyB,EACNxB,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GACTsB,EAAKjB,cC3CDmB,EAVA,WACd,OACC,wBAAQpC,UAAU,6BAAlB,SACC,oBAAGA,UAAU,oBAAb,6BACY,IAAIqC,MAAOC,cADvB,uBCmBYC,EAtBI,SAAC,GAAuB,IAArB9B,EAAoB,EAApBA,KAAM+B,EAAc,EAAdA,QAC3B,OACC,yBACCxC,UAAU,gDACVK,QAAS,SAACoC,GACLA,EAAIC,SAAWD,EAAIE,eACtBH,IAEGC,EAAIC,OAAOE,UAAUC,SAAS,mBACjCL,KAPH,SAWC,sBAAKxC,UAAU,2BAAf,UACC,wBAAQA,UAAU,mBAClB,qBAAKC,IAAKQ,EAAKc,KAAMpB,IAAKM,EAAKe,KAAMxB,UAAU,mBAC/C,oBAAIA,UAAU,sBAAd,SAAqCS,EAAKe,a,gBC0GjCsB,EAAM,I,WAzHlB,WAAYC,GAAU,oBACrBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWH,KAAKC,KAAO,YAC5BD,KAAKI,eAAiBJ,KAAKC,KAAO,mBAClCD,KAAKK,SAAWL,KAAKC,KAAO,S,kDAG7B,SAAeK,GACd,OAAIA,EAAIC,GACAD,EAAIE,OAGLC,QAAQC,OAAR,kEAA6BJ,EAAIK,W,qBAGzC,WAAW,IAAD,OACT,OAAOC,MAAMZ,KAAKG,SAAU,CAC3BU,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,sBAGhBC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,Q,yBAGjC,SAAYC,GAAO,IAAD,OACjB,OAAOT,MAAMZ,KAAKG,SAAU,CAC3BmB,OAAQ,QACRT,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,oBAEjBO,KAAMC,KAAKC,UAAU,CACpBjD,KAAM6C,EAAK7C,KACXQ,MAAOqC,EAAKrC,UAGZiC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,Q,2BAGjC,SAAclB,GAAM,IAAD,OAClB,OAAOU,MAAMZ,KAAKI,eAAgB,CACjCkB,OAAQ,QACRT,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,oBAEjBO,KAAMC,KAAKC,UAAU,CACpB1C,OAAQmB,EAAInB,WAGZkC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,Q,sBAGjC,WAAY,IAAD,OACV,OAAOR,MAAMZ,KAAKK,SAAU,CAC3BQ,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,sBAGhBC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,Q,wBAGjC,SAAWC,GAAO,IAAD,OAChB,OAAOT,MAAMZ,KAAKK,SAAU,CAC3BiB,OAAQ,OACRT,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,oBAEjBO,KAAMC,KAAKC,UAAU,CACpBjD,KAAM6C,EAAK7C,KACXD,KAAM8C,EAAK9C,SAGX0C,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,Q,wBAGjC,SAAW/C,GAAK,IAAD,OACd,OAAOuC,MAAM,GAAD,OAAIZ,KAAKK,SAAT,YAAqBhC,GAAM,CACtCiD,OAAQ,SACRT,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,sBAGhBC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,Q,kCAGjC,SAAqB/C,EAAIH,GAAU,IAAD,OACjC,OAAIA,EACI0C,MAAM,GAAD,OAAIZ,KAAKK,SAAT,YAAqBhC,EAArB,UAAiC,CAC5CiD,OAAQ,SACRT,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,sBAGhBC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,MAEzBR,MAAM,GAAD,OAAIZ,KAAKK,SAAT,YAAqBhC,EAArB,UAAiC,CAC5CiD,OAAQ,MACRT,QAAS,CACRC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,QAC9C,eAAgB,sBAGhBC,MAAK,SAACX,GAAD,OAAS,EAAKY,eAAeZ,MAClCa,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,U,KAKhB,CAAQ,CAC1BlB,IAAK,yDCrFSwB,EAtCO,SAAC,GAOhB,IANNC,EAMK,EANLA,OACAnD,EAKK,EALLA,KACAoD,EAIK,EAJLA,MACAC,EAGK,EAHLA,SACArC,EAEK,EAFLA,QACAsC,EACK,EADLA,SAEA,OACC,yBACC9E,UAAS,+BAA0BwB,EAA1B,YACRmD,EAAS,qBAAuB,IAEjCtE,QAAS,SAACoC,GACLA,EAAIC,SAAWD,EAAIE,eACtBH,IAEGC,EAAIC,OAAOE,UAAUC,SAAS,mBACjCL,KATH,SAaC,sBAAKxC,UAAU,qBAAf,UACC,wBAAQA,UAAU,iBAAiBsB,KAAK,UACxC,uBACCtB,UAAS,2CAAsCwB,GAC/CA,KAAMA,EACNsD,SAAUA,EACVC,YAAU,EAJX,UAMEH,GAAS,oBAAI5E,UAAU,iBAAd,SAAgC4E,IACzCC,WC+CSG,EA1EU,SAAC,GAAuC,IAArCL,EAAoC,EAApCA,OAAQnC,EAA4B,EAA5BA,QAASyC,EAAmB,EAAnBA,aACtCpE,EAAcC,qBAAWR,GADgC,EAGvC4E,mBAAS,IAH8B,mBAGxD1D,EAHwD,KAGlD2D,EAHkD,OAIzBD,mBAAS,IAJgB,mBAIxDE,EAJwD,KAI3CC,EAJ2C,KAc/DC,qBAAU,WACTH,EAAQtE,EAAYW,MACpB6D,EAAexE,EAAYmB,SACzB,CAACnB,IAWJ,OACC,eAAC,EAAD,CACCW,KAAK,UACLoD,MAAM,4HACND,OAAQA,EACRnC,QAASA,EACTsC,SAfmB,SAACrC,GACrBA,EAAI8C,iBAEJN,EAAa,CACZzD,OACAQ,MAAOoD,KAKR,UAOC,sBAAKpF,UAAU,2BAAf,UACC,uBACCsB,KAAK,OACLD,GAAG,kBACHrB,UAAU,+CACVwB,KAAK,OACLgE,MAAOhE,GAAQ,GACfiE,SArCqB,SAAChD,GACzB0C,EAAQ1C,EAAIC,OAAO8C,QAqChBE,UAAU,IACVC,UAAU,KACVC,UAAQ,IAET,sBAAM5F,UAAU,2DAEjB,sBAAKA,UAAU,2BAAf,UACC,uBACCsB,KAAK,OACLD,GAAG,sBACHrB,UAAU,mDACVwB,KAAK,QACLgE,MAAOJ,GAAe,GACtBK,SA/C4B,SAAChD,GAChC4C,EAAe5C,EAAIC,OAAO8C,QA+CvBE,UAAU,IACVC,UAAU,MACVC,UAAQ,IAET,sBAAM5F,UAAU,+DAEjB,wBACCsB,KAAK,SACLtB,UAAU,yDAFX,wECzBY6F,EAxCS,SAAC,GAAyC,IAAvClB,EAAsC,EAAtCA,OAAQnC,EAA8B,EAA9BA,QAASsD,EAAqB,EAArBA,eACrCC,EAAcC,mBAUpB,OACC,eAAC,EAAD,CACCxE,KAAK,SACLoD,MAAM,wFACND,OAAQA,EACRnC,QAASA,EACTsC,SAdF,SAAsBmB,GACrBA,EAAEV,iBAEFO,EAAe,CACd/D,OAAQgE,EAAYG,QAAQV,SAK7B,UAOC,sBAAKxF,UAAU,2BAAf,UACC,uBACCmG,IAAKJ,EACLzE,KAAK,MACLD,GAAG,eACHrB,UAAU,4CACVwB,KAAK,SACLoE,UAAQ,IAET,sBAAM5F,UAAU,wDAEjB,wBACCsB,KAAK,SACLtB,UAAU,wDAFX,wECqCYoG,EAnEO,SAAC,GAAqC,IAAnCzB,EAAkC,EAAlCA,OAAQnC,EAA0B,EAA1BA,QAASX,EAAiB,EAAjBA,WAAiB,EAClCqD,mBAAS,IADyB,mBACnD1D,EADmD,KAC7C2D,EAD6C,OAElCD,mBAAS,IAFyB,mBAEnD3D,EAFmD,KAE7C8E,EAF6C,KAqB1D,OACC,eAAC,EAAD,CACC7E,KAAK,QACLoD,MAAM,gEACND,OAAQA,EACRnC,QAASA,EACTsC,SAfmB,SAACrC,GACrBA,EAAI8C,iBAEJ1D,EAAW,CACVL,OACAD,UAKD,UAOC,sBAAKvB,UAAU,2BAAf,UACC,uBACCsB,KAAK,OACLD,GAAG,mBACHrB,UAAU,gDACVsG,YAAY,mDACZ9E,KAAK,OACLgE,MAAOhE,EACPiE,SAjCqB,SAAChD,GACzB0C,EAAQ1C,EAAIC,OAAO8C,QAiChBE,UAAU,IACVC,UAAU,KACVC,UAAQ,IAET,sBAAM5F,UAAU,4DAEjB,sBAAKA,UAAU,2BAAf,UACC,uBACCsB,KAAK,MACLD,GAAG,mBACHrB,UAAU,gDACVsG,YAAY,qGACZ9E,KAAK,OACLgE,MAAOjE,EACPkE,SA5CqB,SAAChD,GACzB4D,EAAQ5D,EAAIC,OAAO8C,QA4ChBI,UAAQ,IAET,sBAAM5F,UAAU,4DAEjB,wBACCsB,KAAK,SACLtB,UAAU,uDAFX,wE,gBCjDYuG,EARQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBC,EAAY,6BAC9D,OACC,cAAC,IAAD,UACEA,EAAMlH,SAAW,cAACgH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUtG,GAAG,gBC+C9CuG,EAnDD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACJ1B,mBAAS,IADL,mBACvBzF,EADuB,KAChBoH,EADgB,OAEE3B,mBAAS,IAFX,mBAEvB4B,EAFuB,KAEbC,EAFa,KAiB9B,OACC,uBAAM/G,UAAU,YAAYwB,KAAK,QAAQsD,SANrB,SAACrC,GACrBA,EAAI8C,iBACJqB,EAAQnH,EAAOqH,IAIf,UACC,oBAAI9G,UAAU,mBAAd,sCACA,uBACCsB,KAAK,QACLD,GAAG,QACHrB,UAAU,mBACVwB,KAAK,QACL8E,YAAY,QACZd,MAAO/F,EACPgG,SAvBuB,SAAChD,GAC1BoE,EAASpE,EAAIC,OAAO8C,QAuBlBE,UAAU,IACVC,UAAU,KACVC,UAAQ,IAET,uBACCtE,KAAK,WACLD,GAAG,WACHrB,UAAU,mBACVwB,KAAK,WACL8E,YAAY,uCACZd,MAAOsB,EACPrB,SA/B0B,SAAChD,GAC7BsE,EAAYtE,EAAIC,OAAO8C,QA+BrBE,UAAU,IACVC,UAAU,KACVC,UAAQ,IAET,wBAAQtE,KAAK,SAAStB,UAAU,6BAAhC,gDCWYgH,EAtDE,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAAiB,EACV/B,mBAAS,IADC,mBAC7BzF,EAD6B,KACtBoH,EADsB,OAEJ3B,mBAAS,IAFL,mBAE7B4B,EAF6B,KAEnBC,EAFmB,KAiBpC,OACC,uBAAM/G,UAAU,YAAYwB,KAAK,WAAWsD,SANxB,SAACrC,GACrBA,EAAI8C,iBACJ0B,EAAWxH,EAAOqH,IAIlB,UACC,oBAAI9G,UAAU,mBAAd,gFACA,uBACCsB,KAAK,QACLD,GAAG,QACHrB,UAAU,mBACVwB,KAAK,QACL8E,YAAY,QACZd,MAAO/F,EACPgG,SAvBuB,SAAChD,GAC1BoE,EAASpE,EAAIC,OAAO8C,QAuBlBE,UAAU,IACVC,UAAU,KACVC,UAAQ,IAET,uBACCtE,KAAK,WACLD,GAAG,WACHrB,UAAU,mBACVwB,KAAK,WACL8E,YAAY,uCACZd,MAAOsB,EACPrB,SA/B0B,SAAChD,GAC7BsE,EAAYtE,EAAIC,OAAO8C,QA+BrBE,UAAU,IACVC,UAAU,KACVC,UAAQ,IAET,wBAAQtE,KAAK,SAAStB,UAAU,6BAAhC,0HAGA,cAAC,IAAD,CAAMI,GAAG,UAAUJ,UAAU,kBAA7B,qKClDY,MAA0B,oCCA1B,MAA0B,oCCiB1BkH,EAbK,SAAC,GAA0C,IAAxCvC,EAAuC,EAAvCA,OAAQnC,EAA+B,EAA/BA,QAASmB,EAAsB,EAAtBA,OAAQwD,EAAc,EAAdA,aAC/C,OACC,eAAC,EAAD,CAAe3F,KAAK,OAAOoD,MAAM,GAAGD,OAAQA,EAAQnC,QAASA,EAA7D,UACC,qBACCvC,IAAK0D,EAASyD,EAAcC,EAC5BlH,IAAI,yIACJH,UAAU,8BAEX,mBAAGA,UAAU,+BAAb,SAA6CmH,QCZnCG,EAAW,uDC0STC,EAxRH,WAAO,IAAD,EACqBrC,mBAAS,IAD9B,mBACVrE,EADU,KACG2G,EADH,OAGyCtC,oBAAS,GAHlD,mBAGVuC,EAHU,KAGaC,EAHb,OAI2CxC,oBAAS,GAJpD,mBAIVyC,EAJU,KAIcC,EAJd,OAKqC1C,oBAAS,GAL9C,mBAKV2C,EALU,KAKWC,EALX,OAMiC5C,oBAAS,GAN1C,mBAMV6C,EANU,KAMSC,EANT,OAQhB9C,oBAAS,GARO,mBAOV+C,EAPU,KAOgBC,EAPhB,OASiChD,mBAAS,IAT1C,mBASViD,EATU,KASSC,EATT,OAWuBlD,mBAAS,MAXhC,mBAWVmD,EAXU,KAWIC,EAXJ,OAYepD,oBAAS,GAZxB,mBAYV1F,EAZU,KAYA+I,GAZA,QAaSrD,mBAAS,IAblB,qBAaVzF,GAbU,MAaHoH,GAbG,SAeS3B,mBAAS,IAflB,qBAeVpD,GAfU,MAeH0G,GAfG,MAiBXC,GAAUC,cAEhBpD,qBAAU,WACL9F,GACHsD,EACE6F,UACA1E,MAAK,SAAC2E,GACNpB,EAAeoB,MAEfzE,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,QAGb,CAAC5E,IAEJ,IAoBMuJ,GAAoB,WACzBC,SAASC,iBAAiB,UAAWC,KAGhCA,GAAiB,SAACzG,GACP,WAAZA,EAAI0G,KACPC,MAIIA,GAAiB,WACtBxB,GAA0B,GAC1BE,GAAuB,GACvBJ,GAAyB,GACzBM,GAAqB,GACrBM,EAAgB,MAChBU,SAASK,oBAAoB,UAAWH,KA2BzC5D,qBAAU,WACL9F,GACHsD,EACEwG,WACArF,MAAK,SAACI,GACNmE,GAASnE,MAETF,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,QAGb,CAAC5E,IAEJ,IAqCM+J,GAAa,WAClB,GAAIxF,aAAaC,QAAQ,OAAQ,CAChC,IAAMwF,EAAMzF,aAAaC,QAAQ,OAC7BwF,IDtHoBC,ECwHVD,EDvHT5F,MAAM,GAAD,OAAI0D,EAAJ,aAAyB,CACpCoC,KAAM,OACNpF,OAAQ,MACRT,QAAS,CACR,eAAgB,mBAChBC,cAAc,UAAD,OAAY2F,MAGzBxF,MAAK,SAACX,GACN,OAAIA,EAAIC,GACAD,EAAIE,OAELC,QAAQC,OAAR,gDAA0BJ,EAAIK,OAA9B,cAA0CL,EAAIqG,gBAErDxF,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,OC0G3BH,MAAK,SAACI,GACNkE,IAAY,GACZE,GAAQmB,KAAK,KACb/C,GAASxC,EAAK5E,UAEd0E,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,MD/HQ,IAACqF,GCqI1BnE,qBAAU,WACTiE,OACE,IA+CH,OACC,qBAAKvJ,UAAU,OAAf,SACC,eAACM,EAAmBuJ,SAApB,CAA6BrE,MAAO3E,EAApC,UACC,cAAC,EAAD,CAAQrB,SAAUA,EAAUC,MAAOA,GAAOC,UAV3B,WAEjB6I,IAAY,GACZxE,aAAa+F,WAAW,OACxBrB,GAAQmB,KAAK,cAQX,eAAC,IAAD,WACC,cAAC,EAAD,CACCG,OAAK,EACLpK,KAAK,IACLH,SAAUA,EACViH,UAAW/E,EACXC,aA/LyB,WAC7B+F,GAAyB,GACzBqB,MA8LInH,cA3L0B,WAC9BgG,GAA0B,GAC1BmB,MA0LIlH,WAvLuB,WAC3BiG,GAAuB,GACvBiB,MAsLIrI,YAnLmB,SAAC2D,GACxBiE,EAAgBjE,GAChB0E,MAkLIjH,MAAOA,GACPnB,WAxHmB,SAACF,GACxB,IAAMS,EAAUT,EAAKU,MAAMC,MAAK,SAACC,GAAD,OAAQA,IAAOR,EAAYI,OAC3D6B,EACEkH,qBAAqBvJ,EAAKQ,IAAKC,GAC/B+C,MAAK,SAACgG,GACNzB,IAAS,SAAC1G,GAAD,OACRA,EAAMG,KAAI,SAACiI,GAAD,OAAUA,EAAIjJ,MAAQR,EAAKQ,IAAMgJ,EAAUC,WAGtD/F,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,OA+GVxD,aA3GoB,SAACH,GACzBqC,EACEqH,WAAW1J,EAAKQ,KAChBgD,MAAK,WACLuE,IAAS,SAAC1G,GAAD,OAAWA,EAAMsI,QAAO,SAACF,GAAD,OAASA,EAAIjJ,MAAQR,EAAKQ,aAE3DkD,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,SAuGX,cAAC,IAAD,CAAOzE,KAAK,UAAZ,SACC,cAAC,EAAD,CAAOiH,QA9CI,SAACnH,EAAOqH,IDxLA,SAACrH,EAAOqH,GAEhC,OAAOlD,MAAM,GAAD,OAAI0D,EAAJ,WAAuB,CAClCoC,KAAM,OACNpF,OAAQ,OACRT,QAAS,CACR,eAAgB,oBAEjBU,KAAMC,KAAKC,UAAU,CAAEqC,SAAUA,EAAUrH,MAAOA,MAEjDwE,MAAK,SAACX,GACN,OAAIA,EAAIC,GACAD,EAAIE,OAELC,QAAQC,OAAR,gDAA0BJ,EAAIK,OAA9B,cAA0CL,EAAIqG,gBAErD1F,MAAK,SAACI,GACN,OAAIA,EAAKoF,OACR1F,aAAasG,QAAQ,MAAOhG,EAAKoF,OAC1BpF,QAEP,KAGDF,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,OCiK/BkG,CACY7K,EAAOqH,GACjB7C,MAAK,SAACI,GACFA,IACHkE,IAAY,GACZE,GAAQmB,KAAK,KACb/C,GAASpH,OAGV0E,OAAM,SAACC,GACPgE,EAAqB,uMACrBF,GAA4B,GAC5BF,GAAqB,GACrBa,QAAQC,IAAI1E,WAmCX,cAAC,IAAD,CAAOzE,KAAK,UAAZ,SACC,cAAC,EAAD,CAAUsH,WAtEI,SAACxH,EAAOqH,IDvLJ,SAACrH,EAAOqH,GAE/B,OAAOlD,MAAM,GAAD,OAAI0D,EAAJ,WAAuB,CAClCoC,KAAM,OACNpF,OAAQ,OACRT,QAAS,CACR,eAAgB,oBAEjBU,KAAMC,KAAKC,UAAU,CAAEqC,SAAUA,EAAUrH,MAAOA,MAEjDwE,MAAK,SAACX,GACN,OAAIA,EAAIC,GACAD,EAAIE,OAELC,QAAQC,OAAR,gDAA0BJ,EAAIK,OAA9B,cAA0CL,EAAIqG,gBAErDxF,OAAM,SAACC,GAAD,OAASX,QAAQC,OAAOU,OCwK/BkG,CACW7K,EAAOqH,GAChB7C,MAAK,SAACI,GACFA,IACH2D,GAAqB,GACrBI,EAAqB,yKACrBF,GAA4B,GAC5BO,GAAQmB,KAAK,WACb/C,GAASxC,EAAK5E,WAGf0E,OAAM,SAACC,GACP8D,GAA4B,GAC5BE,EAAqB,uMACrBJ,GAAqB,GACrBa,QAAQC,IAAI1E,WAyDX,cAAC,IAAD,UACE5E,EAAW,cAAC,IAAD,CAAUY,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,iBAIjD,cAAC,EAAD,IAEA,cAAC,EAAD,CACCuE,OAAQgD,EACRnF,QAAS4G,GACTnE,aAnLqB,SAACZ,GACzBvB,EACEyH,YAAYlG,GACZJ,MAAK,SAACX,GACNkE,EAAelE,GACf8F,QAEAjF,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,SA8KZ,cAAC,EAAD,CACCO,OAAQkD,EACRrF,QAAS4G,GACTvH,WA3HyB,SAACpB,GAC7BqC,EACE0H,WAAW/J,GACXwD,MAAK,SAACgG,GACNzB,GAAS,CAACyB,GAAF,mBAAcnI,MACtBsH,QAEAjF,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,SAsHZ,cAAC,EAAD,CACCO,OAAQ8C,EACRjF,QAAS4G,GACTtD,eAnLuB,SAACzB,GAC3BvB,EACE2H,cAAcpG,GACdJ,MAAK,SAACX,GACNkE,EAAelE,GACf8F,QAEAjF,OAAM,SAACC,GACPyE,QAAQC,IAAI1E,SA8KXiE,GACA,cAAC,EAAD,CAAY5H,KAAM4H,EAAc7F,QAAS4G,KAG1C,cAAC,EAAD,CACCzE,OAAQoD,EACRvF,QAAS4G,GACTzF,OAAQsE,EACRd,eAASgB,UCvRCuC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3G,MAAK,YAAkD,IAA/C4G,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,UACC,cAAC,EAAD,QAGFpC,SAASqC,eAAe,SAMzBX,M","file":"static/js/main.63e7b14d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from \"../images/logo.svg\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst Header = ({ loggedIn, email, onSignOut }) => {\r\n\tconst path = useLocation().pathname;\r\n\r\n\tconst linkName = `${path === \"/signin\" ? \"Регистрация\" : \"Войти\"}`;\r\n\tconst pathTo = `${path === \"/signin\" ? \"/signup\" : \"/signin\"}`;\r\n\r\n\treturn (\r\n\t\t<header className=\"header page__header-margin\">\r\n\t\t\t<img src={logo} alt=\"Логотип Mesto\" className=\"header__logo\" />\r\n\t\t\t{loggedIn ? (\r\n\t\t\t\t<div className=\"header__container\">\r\n\t\t\t\t\t<h2 className=\"header__email\">{email}</h2>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto=\"/signin\"\r\n\t\t\t\t\t\tclassName=\"header__link header__link_type_out\"\r\n\t\t\t\t\t\tonClick={onSignOut}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tВыход\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<Link to={pathTo} className=\"header__link header__link_type_in\">\r\n\t\t\t\t\t{linkName}\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Card = ({ card, onCardClick, onCardLike, onCardDelete }) => {\r\n\tconst currentUser = useContext(CurrentUserContext);\r\n\r\n\tconst isOwn = card.owner === currentUser._id;\r\n\tconst isLiked = card.likes.some((id) => id === currentUser._id);\r\n\r\n\tconst handelClick = () => {\r\n\t\tonCardClick(card);\r\n\t};\r\n\r\n\tconst handleLikeClick = () => {\r\n\t\tonCardLike(card);\r\n\t};\r\n\r\n\tconst handleDeleteClick = () => {\r\n\t\tonCardDelete(card);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"element\">\r\n\t\t\t<button\r\n\t\t\t\tclassName={`element__basket ${\r\n\t\t\t\t\tisOwn ? \"\" : \"element__basket_type_hidden\"\r\n\t\t\t\t}`}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tonClick={handleDeleteClick}\r\n\t\t\t></button>\r\n\t\t\t<img\r\n\t\t\t\tsrc={card.link}\r\n\t\t\t\talt={card.name}\r\n\t\t\t\tclassName=\"element__photo\"\r\n\t\t\t\tonClick={handelClick}\r\n\t\t\t/>\r\n\t\t\t<div className=\"element__container\">\r\n\t\t\t\t<h2 className=\"element__name\">{card.name}</h2>\r\n\t\t\t\t<div className=\"element__like-container\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`element__like ${isLiked ? \"element__like_active\" : \"\"}`}\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"element__like-counter\">\r\n\t\t\t\t\t\t{card.likes ? card.likes.length : 0}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Card;\r\n","import { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Main = ({\r\n\tonEditAvatar,\r\n\tonEditProfile,\r\n\tonAddPlace,\r\n\tonCardClick,\r\n\tcards,\r\n\tonCardLike,\r\n\tonCardDelete,\r\n}) => {\r\n\tconst currentUser = useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main className=\"content\">\r\n\t\t\t<section className=\"profile page__profile-margin\">\r\n\t\t\t\t<div className=\"profile__avatar-container\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={currentUser.avatar}\r\n\t\t\t\t\t\talt=\"Фото пользователя\"\r\n\t\t\t\t\t\tclassName=\"profile__avatar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"profile__pencil-container\" onClick={onEditAvatar}>\r\n\t\t\t\t\t\t<div className=\"profile__pencil\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<div className=\"profile__container\">\r\n\t\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"profile__edit-button\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={onEditProfile}\r\n\t\t\t\t\t\t></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"profile__activity\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"profile__add-button\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"elements page__elements-margin\">\r\n\t\t\t\t{cards.map((item, i) => (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tcard={item}\r\n\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\tonCardLike={onCardLike}\r\n\t\t\t\t\t\tonCardDelete={onCardDelete}\r\n\t\t\t\t\t\tkey={item._id}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nexport default Main;\r\n","const Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"footer page__footer-margin\">\r\n\t\t\t<p className=\"footer__copyright\">\r\n\t\t\t\t&#169; {`${new Date().getFullYear()} Mesto Russia`}\r\n\t\t\t</p>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n\r\n//<p className=\"footer__copyright\">&#169; 2020 Mesto Russia</p>\r\n","const ImagePopup = ({ card, onClose }) => {\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName=\"overlay overlay_type_image page__popup_opened\"\r\n\t\t\tonClick={(evt) => {\r\n\t\t\t\tif (evt.target === evt.currentTarget) {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t\tif (evt.target.classList.contains(\"overlay__close\")) {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"overlay__image-contauner\">\r\n\t\t\t\t<button className=\"overlay__close\"></button>\r\n\t\t\t\t<img src={card.link} alt={card.name} className=\"overlay__image\" />\r\n\t\t\t\t<h2 className=\"overlay__image-name\">{card.name}</h2>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n\tconstructor(options) {\r\n\t\tthis._url = options.url;\r\n\t\tthis._userUrl = this._url + \"/users/me\";\r\n\t\tthis._userAvatarUrl = this._url + \"/users/me/avatar\";\r\n\t\tthis._cardUrl = this._url + \"/cards\";\r\n\t}\r\n\r\n\t_parseResponse(res) {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\r\n\t\treturn Promise.reject(`Код ошибки ${res.status}`);\r\n\t}\r\n\r\n\tgetUser() {\r\n\t\treturn fetch(this._userUrl, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t.catch((err) => Promise.reject(err));\r\n\t}\r\n\r\n\tsetUserData(data) {\r\n\t\treturn fetch(this._userUrl, {\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: data.name,\r\n\t\t\t\tabout: data.about,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t.catch((err) => Promise.reject(err));\r\n\t}\r\n\r\n\tsetUserAvatar(url) {\r\n\t\treturn fetch(this._userAvatarUrl, {\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tavatar: url.avatar,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t.catch((err) => Promise.reject(err));\r\n\t}\r\n\r\n\tgetCards() {\r\n\t\treturn fetch(this._cardUrl, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t.catch((err) => Promise.reject(err));\r\n\t}\r\n\r\n\tcreateCard(data) {\r\n\t\treturn fetch(this._cardUrl, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: data.name,\r\n\t\t\t\tlink: data.link,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t.catch((err) => Promise.reject(err));\r\n\t}\r\n\r\n\tremoveCard(id) {\r\n\t\treturn fetch(`${this._cardUrl}/${id}`, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t.catch((err) => Promise.reject(err));\r\n\t}\r\n\r\n\tchangeLikeCardStatus(id, isLiked) {\r\n\t\tif (isLiked) {\r\n\t\t\treturn fetch(`${this._cardUrl}/${id}/likes`, {\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t\t.catch((err) => Promise.reject(err));\r\n\t\t} else {\r\n\t\t\treturn fetch(`${this._cardUrl}/${id}/likes`, {\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((res) => this._parseResponse(res))\r\n\t\t\t\t.catch((err) => Promise.reject(err));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const api = new Api({\r\n\turl: \"https://api.mestoproject.sgsharov.nomoredomains.club\",\r\n});\r\n","const PopupWithForm = ({\r\n\tisOpen,\r\n\tname,\r\n\ttitle,\r\n\tchildren,\r\n\tonClose,\r\n\tonSubmit,\r\n}) => {\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName={`overlay overlay_type_${name} ${\r\n\t\t\t\tisOpen ? \"page__popup_opened\" : \"\"\r\n\t\t\t}`}\r\n\t\t\tonClick={(evt) => {\r\n\t\t\t\tif (evt.target === evt.currentTarget) {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t\tif (evt.target.classList.contains(\"overlay__close\")) {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"overlay__container\">\r\n\t\t\t\t<button className=\"overlay__close\" type=\"reset\"></button>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName={`overlay__form overlay__form_type_${name}`}\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t>\r\n\t\t\t\t\t{title && <h2 className=\"overlay__title\">{title}</h2>}\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default PopupWithForm;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\r\n\tconst currentUser = useContext(CurrentUserContext);\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [discription, setDiscription] = useState(\"\");\r\n\r\n\tconst handleChangeName = (evt) => {\r\n\t\tsetName(evt.target.value);\r\n\t};\r\n\r\n\tconst handleChangeDiscription = (evt) => {\r\n\t\tsetDiscription(evt.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetName(currentUser.name);\r\n\t\tsetDiscription(currentUser.about);\r\n\t}, [currentUser]);\r\n\r\n\tconst handleSubmit = (evt) => {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tonUpdateUser({\r\n\t\t\tname,\r\n\t\t\tabout: discription,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"profile\"\r\n\t\t\ttitle=\"Редактировать профиль\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<div className=\"overlay__input-container\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid=\"user-name-input\"\r\n\t\t\t\t\tclassName=\"overlay__input overlay__input_type_user-name\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tvalue={name || \"\"}\r\n\t\t\t\t\tonChange={handleChangeName}\r\n\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"overlay__input-error overlay__user-name-input-error\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"overlay__input-container\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid=\"user-activity-input\"\r\n\t\t\t\t\tclassName=\"overlay__input overlay__input_type_user-activity\"\r\n\t\t\t\t\tname=\"about\"\r\n\t\t\t\t\tvalue={discription || \"\"}\r\n\t\t\t\t\tonChange={handleChangeDiscription}\r\n\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"overlay__input-error overlay__user-activity-input-error\"></span>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tclassName=\"overlay__save-button overlay__save-button_type_profile\"\r\n\t\t\t>\r\n\t\t\t\tСохранить\r\n\t\t\t</button>\r\n\t\t</PopupWithForm>\r\n\t);\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar }) => {\r\n\tconst inputAvatar = useRef();\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tonUpdateAvatar({\r\n\t\t\tavatar: inputAvatar.current.value,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"avatar\"\r\n\t\t\ttitle=\"Обновить аватар\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<div className=\"overlay__input-container\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={inputAvatar}\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tid=\"avatar-input\"\r\n\t\t\t\t\tclassName=\"overlay__input overlay__input_type_avatar\"\r\n\t\t\t\t\tname=\"avatar\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"overlay__input-error overlay__avatar-input-error\"></span>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tclassName=\"overlay__save-button overlay__save-button_type_avatar\"\r\n\t\t\t>\r\n\t\t\t\tСохранить\r\n\t\t\t</button>\r\n\t\t</PopupWithForm>\r\n\t);\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace }) => {\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [link, setLink] = useState(\"\");\r\n\r\n\tconst handleChangeName = (evt) => {\r\n\t\tsetName(evt.target.value);\r\n\t};\r\n\r\n\tconst handleChangeLink = (evt) => {\r\n\t\tsetLink(evt.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (evt) => {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tonAddPlace({\r\n\t\t\tname,\r\n\t\t\tlink,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"place\"\r\n\t\t\ttitle=\"Новое место\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<div className=\"overlay__input-container\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid=\"place-name-input\"\r\n\t\t\t\t\tclassName=\"overlay__input overlay__input_type_place-name\"\r\n\t\t\t\t\tplaceholder=\"Название\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tonChange={handleChangeName}\r\n\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"overlay__input-error overlay__place-name-input-error\"></span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"overlay__input-container\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tid=\"place-link-input\"\r\n\t\t\t\t\tclassName=\"overlay__input overlay__input_type_place-link\"\r\n\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\tvalue={link}\r\n\t\t\t\t\tonChange={handleChangeLink}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"overlay__input-error overlay__place-link-input-error\"></span>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tclassName=\"overlay__save-button overlay__save-button_type_place\"\r\n\t\t\t>\r\n\t\t\t\tСохранить\r\n\t\t\t</button>\r\n\t\t</PopupWithForm>\r\n\t);\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n\treturn (\r\n\t\t<Route>\r\n\t\t\t{props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />}\r\n\t\t</Route>\r\n\t);\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { useState } from \"react\";\r\n\r\nconst Login = ({ onLogin }) => {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\r\n\tconst handleChangeEmail = (evt) => {\r\n\t\tsetEmail(evt.target.value);\r\n\t};\r\n\r\n\tconst handleChangePassword = (evt) => {\r\n\t\tsetPassword(evt.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (evt) => {\r\n\t\tevt.preventDefault();\r\n\t\tonLogin(email, password);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"auth-form\" name=\"ligin\" onSubmit={handleSubmit}>\r\n\t\t\t<h2 className=\"auth-form__title\">Вход</h2>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"email\"\r\n\t\t\t\tid=\"email\"\r\n\t\t\t\tclassName=\"auth-form__input\"\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tonChange={handleChangeEmail}\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tid=\"password\"\r\n\t\t\t\tclassName=\"auth-form__input\"\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\tvalue={password}\r\n\t\t\t\tonChange={handleChangePassword}\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<button type=\"submit\" className=\"auth-form__register-button\">\r\n\t\t\t\tВойти\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nconst Register = ({ onRegister }) => {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\r\n\tconst handleChangeEmail = (evt) => {\r\n\t\tsetEmail(evt.target.value);\r\n\t};\r\n\r\n\tconst handleChangePassword = (evt) => {\r\n\t\tsetPassword(evt.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (evt) => {\r\n\t\tevt.preventDefault();\r\n\t\tonRegister(email, password);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"auth-form\" name=\"register\" onSubmit={handleSubmit}>\r\n\t\t\t<h2 className=\"auth-form__title\">Регистрация</h2>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"email\"\r\n\t\t\t\tid=\"email\"\r\n\t\t\t\tclassName=\"auth-form__input\"\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tonChange={handleChangeEmail}\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tid=\"password\"\r\n\t\t\t\tclassName=\"auth-form__input\"\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\tvalue={password}\r\n\t\t\t\tonChange={handleChangePassword}\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<button type=\"submit\" className=\"auth-form__register-button\">\r\n\t\t\t\tЗарегистрироваться\r\n\t\t\t</button>\r\n\t\t\t<Link to=\"/signin\" className=\"auth-form__link\">\r\n\t\t\t\tУже зарегистрированы? Войти\r\n\t\t\t</Link>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failure.df8eddf6.svg\";","import PopupWithForm from \"./PopupWithForm\";\r\nimport successIcon from \"../images/success.svg\";\r\nimport failureIcon from \"../images/failure.svg\";\r\n\r\nconst InfoTooltip = ({ isOpen, onClose, status, mеssage }) => {\r\n\treturn (\r\n\t\t<PopupWithForm name=\"auth\" title=\"\" isOpen={isOpen} onClose={onClose}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={status ? successIcon : failureIcon}\r\n\t\t\t\talt=\"Знак статуса авторизации\"\r\n\t\t\t\tclassName=\"overlay__infoTooltip-icon\"\r\n\t\t\t/>\r\n\t\t\t<p className=\"overlay__infoTooltip-massage\">{mеssage}</p>\r\n\t\t</PopupWithForm>\r\n\t);\r\n};\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = \"https://api.mestoproject.sgsharov.nomoredomains.club\";\r\n\r\nexport const register = (email, password) => {\r\n\r\n\treturn fetch(`${BASE_URL}/signup`, {\r\n\t\tmode: 'cors',\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify({ password: password, email: email }),\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\tif (res.ok) {\r\n\t\t\t\treturn res.json();\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n\t\t})\r\n\t\t.catch((err) => Promise.reject(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n\r\n\treturn fetch(`${BASE_URL}/signin`, {\r\n\t\tmode: 'cors',\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify({ password: password, email: email }),\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\tif (res.ok) {\r\n\t\t\t\treturn res.json();\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n\t\t})\r\n\t\t.then((data) => {\r\n\t\t\tif (data.token) {\r\n\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\r\n\t\t\t\treturn data;\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => Promise.reject(err));\r\n};\r\n\r\nexport const getContent = (token) => {\r\n\treturn fetch(`${BASE_URL}/users/me`, {\r\n\t\tmode: 'cors',\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t},\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\tif (res.ok) {\r\n\t\t\t\treturn res.json();\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n\t\t})\r\n\t\t.catch((err) => Promise.reject(err));\r\n};\r\n","import { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\n\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { api } from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as mestoAuth from \"../utils/mestoAuth.js\";\n\nconst App = () => {\n\tconst [currentUser, setCurrentUser] = useState({});\n\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\tconst [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\tconst [isSuccessfulRegistration, setIsSuccessfulRegistration] =\n\t\tuseState(false);\n\tconst [successfulmessage, setSuccessfulmessage] = useState(\"\");\n\n\tconst [selectedCard, setSelectedCard] = useState(null);\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\tconst [email, setEmail] = useState(\"\");\n\n\tconst [cards, setCards] = useState([]);\n\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tif (loggedIn) {\n\t\t\tapi\n\t\t\t\t.getUser()\n\t\t\t\t.then((userData) => {\n\t\t\t\t\tsetCurrentUser(userData);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t}\n\t}, [loggedIn]);\n\n\tconst handleEditAvatarClick = () => {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t\tsetEventListeners();\n\t};\n\n\tconst handleEditProfileClick = () => {\n\t\tsetIsEditProfilePopupOpen(true);\n\t\tsetEventListeners();\n\t};\n\n\tconst handleAddPlaceClick = () => {\n\t\tsetIsAddPlacePopupOpen(true);\n\t\tsetEventListeners();\n\t};\n\n\tconst handleCardClick = (data) => {\n\t\tsetSelectedCard(data);\n\t\tsetEventListeners();\n\t};\n\n\tconst setEventListeners = () => {\n\t\tdocument.addEventListener(\"keydown\", handleEscClose);\n\t};\n\n\tconst handleEscClose = (evt) => {\n\t\tif (evt.key === \"Escape\") {\n\t\t\tcloseAllPopups();\n\t\t}\n\t};\n\n\tconst closeAllPopups = () => {\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsInfoTooltipOpen(false);\n\t\tsetSelectedCard(null);\n\t\tdocument.removeEventListener(\"keydown\", handleEscClose);\n\t};\n\n\tconst handleUpdateUser = (data) => {\n\t\tapi\n\t\t\t.setUserData(data)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t\tcloseAllPopups();\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst handleUpdateAvatar = (data) => {\n\t\tapi\n\t\t\t.setUserAvatar(data)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t\tcloseAllPopups();\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (loggedIn) {\n\t\t\tapi\n\t\t\t\t.getCards()\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetCards(data);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t}\n\t}, [loggedIn]);\n\n\tconst handleClickLike = (card) => {\n\t\tconst isLiked = card.likes.some((id) => id === currentUser._id);\n\t\tapi\n\t\t\t.changeLikeCardStatus(card._id, isLiked)\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards((cards) =>\n\t\t\t\t\tcards.map((crd) => (crd._id === card._id ? newCard : crd))\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst handleCardDelete = (card) => {\n\t\tapi\n\t\t\t.removeCard(card._id)\n\t\t\t.then(() => {\n\t\t\t\tsetCards((cards) => cards.filter((crd) => crd._id !== card._id));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst handleAddPlaceSubmit = (card) => {\n\t\tapi\n\t\t\t.createCard(card)\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards([newCard, ...cards]);\n\t\t\t\tcloseAllPopups();\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst checkToken = () => {\n\t\tif (localStorage.getItem(\"jwt\")) {\n\t\t\tconst jwt = localStorage.getItem(\"jwt\");\n\t\t\tif (jwt) {\n\t\t\t\tmestoAuth\n\t\t\t\t\t.getContent(jwt)\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tsetLoggedIn(true);\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t\tsetEmail(data.email);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tcheckToken();\n\t}, []);\n\n\tconst onRegister = (email, password) => {\n\t\tmestoAuth\n\t\t\t.register(email, password)\n\t\t\t.then((data) => {\n\t\t\t\tif (data) {\n\t\t\t\t\tsetIsInfoTooltipOpen(true);\n\t\t\t\t\tsetSuccessfulmessage(\"Вы успешно зарегистрировались!\");\n\t\t\t\t\tsetIsSuccessfulRegistration(true);\n\t\t\t\t\thistory.push(\"/signin\");\n\t\t\t\t\tsetEmail(data.email);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetIsSuccessfulRegistration(false);\n\t\t\t\tsetSuccessfulmessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n\t\t\t\tsetIsInfoTooltipOpen(true);\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst onLogin = (email, password) => {\n\t\tmestoAuth\n\t\t\t.authorize(email, password)\n\t\t\t.then((data) => {\n\t\t\t\tif (data) {\n\t\t\t\t\tsetLoggedIn(true);\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\tsetEmail(email);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetSuccessfulmessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n\t\t\t\tsetIsSuccessfulRegistration(false);\n\t\t\t\tsetIsInfoTooltipOpen(true);\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst onSignOut = () => {\n\n\t\tsetLoggedIn(false);\n\t\tlocalStorage.removeItem(\"jwt\");\n\t\thistory.push(\"/signin\");\n\t};\n\n\treturn (\n\t\t<div className=\"page\">\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Header loggedIn={loggedIn} email={email} onSignOut={onSignOut} />\n\n\t\t\t\t<Switch>\n\t\t\t\t\t<ProtectedRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\t\tcomponent={Main}\n\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\t\tcards={cards}\n\t\t\t\t\t\tonCardLike={handleClickLike}\n\t\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path=\"/signin\">\n\t\t\t\t\t\t<Login onLogin={onLogin} />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/signup\">\n\t\t\t\t\t\t<Register onRegister={onRegister} />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route>\n\t\t\t\t\t\t{loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\n\t\t\t\t<Footer />\n\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t/>\n\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t/>\n\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\n\t\t\t\t{selectedCard && (\n\t\t\t\t\t<ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\t\t\t\t)}\n\n\t\t\t\t<InfoTooltip\n\t\t\t\t\tisOpen={isInfoTooltipOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tstatus={isSuccessfulRegistration}\n\t\t\t\t\tmеssage={successfulmessage}\n\t\t\t\t/>\n\t\t\t</CurrentUserContext.Provider>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}